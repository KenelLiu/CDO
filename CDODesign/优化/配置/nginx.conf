user  demo;
worker_processes  4;

error_log  /data/logs/nginx/error.log;

pid        logs/nginx.pid;


events {
	use epoll;
	worker_connections  1024;
}


http {
    include       mime.types;
    default_type  application/octet-stream;

		proxy_redirect off;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		client_max_body_size 10m;
		client_body_buffer_size 128k;
		proxy_connect_timeout 90;
		proxy_send_timeout 90;
		proxy_read_timeout 90;
		proxy_buffer_size 4k;
		proxy_buffers 4 32k;
		proxy_busy_buffers_size 64k;
		proxy_temp_file_write_size 64k;

		server_names_hash_bucket_size 128;
		client_header_buffer_size 32k;
		large_client_header_buffers 4 32k;
	
    sendfile        on;
    tcp_nopush     on;

    keepalive_timeout  65;
    tcp_nodelay  on;

		upstream tomcat {
			server 192.168.200.41:8080;
		}
	    
    server {
        listen       80;
        server_name  boss.mall.woyo.com;
        index  index.html index.htm index.jsp login.vm;
        root /var/www/boss.mall.woyo.com;
				
				location / {  
				  proxy_pass http://tomcat;  
				} 

        location ~ .*.jsp$ {
          root   index.jsp;
          proxy_pass http://tomcat;
        }       
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
                {
                   expires 30d;
                }
        location ~ .*\.(js|css)?$
                {
                    expires 1h;
                }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }
       
    server {
        listen       80;
        server_name  business.mall.wy business.mall.woyo.com ms.business.mall.wy tg.business.mall.wy mall.business.mall.wy buyer.business.mall.wy seller.business.mall.wy yx.business.mall.wy act.business.mall.wy boss.business.mall.wy;
        index  index.html index.htm index.jsp login.vm;
        root /var/www/business.mall.wy;
				
				location / {  
				  proxy_pass http://tomcat;  
				} 

        location ~ .*.jsp$ {
          root   index.jsp;
          proxy_pass http://tomcat;
        }       
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
                {
                   expires 30d;
                }
        location ~ .*\.(js|css)?$
                {
                    expires 1h;
                }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    } 
    
    server {
        listen       80;
        server_name  act.mall.woyo.com;
        index  index.html index.htm index.jsp login.vm;
        root /var/www/act.mall.woyo.com;
				
				location / {  
				  proxy_pass http://tomcat;  
				} 

        location ~ .*.jsp$ {
          root   index.jsp;
          proxy_pass http://tomcat;
        }       
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
                {
                   expires 30d;
                }
        location ~ .*\.(js|css)?$
                {
                    expires 1h;
                }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }  
    
	server {
        listen       80;
        server_name  buyer.mall.woyo.com;
        index  index.html index.htm index.jsp login.vm;
        root /var/www/buyer.mall.woyo.com;
				
				location / {  
				  proxy_pass http://tomcat;  
				} 

        location ~ .*.jsp$ {
          root   index.jsp;
          proxy_pass http://tomcat;
        }       
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
                {
                   expires 30d;
                }
        location ~ .*\.(js|css)?$
                {
                    expires 1h;
                }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    } 
    
	server {
        listen       80;
        server_name  mall.woyo.com;
        index  index.html index.htm index.jsp login.vm;
        root /var/www/mall.woyo.com;
				
				location / {  
				  proxy_pass http://tomcat;  
				} 

        location ~ .*.jsp$ {
          root   index.jsp;
          proxy_pass http://tomcat;
        }       
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
                {
                   expires 30d;
                }
        location ~ .*\.(js|css)?$
                {
                    expires 1h;
                }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }
    
	server {
        listen       80;
        server_name  ms.mall.woyo.com;
        index  index.html index.htm index.jsp login.vm;
        root /var/www/ms.mall.woyo.com;
				
				location / {  
				  proxy_pass http://tomcat;  
				} 

        location ~ .*.jsp$ {
          root   index.jsp;
          proxy_pass http://tomcat;
        }       
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
                {
                   expires 30d;
                }
        location ~ .*\.(js|css)?$
                {
                    expires 1h;
                }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }  
    
	server {
        listen       80;
        server_name  seller.mall.woyo.com;
        index  index.html index.htm index.jsp login.vm;
        root /var/www/seller.mall.woyo.com;
				
				location / {  
				  proxy_pass http://tomcat;  
				} 

        location ~ .*.jsp$ {
          root   index.jsp;
          proxy_pass http://tomcat;
        }       
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
                {
                   expires 30d;
                }
        location ~ .*\.(js|css)?$
                {
                    expires 1h;
                }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }  
    
	server {
        listen       80;
        server_name  staticmall.woyo.com;
        index  index.html index.htm index.jsp login.vm;
        root /var/www/staticmall.woyo.com;
				
				location / {  
				  proxy_pass http://tomcat;  
				} 

        location ~ .*.jsp$ {
          root   index.jsp;
          proxy_pass http://tomcat;
        }       
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
                {
                   expires 30d;
                }
        location ~ .*\.(js|css)?$
                {
                    expires 1h;
                }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    } 
    
	server {
        listen       80;
        server_name  tg.mall.woyo.com;
        index  index.html index.htm index.jsp login.vm;
        root /var/www/tg.mall.woyo.com;
				
				location / {  
				  proxy_pass http://tomcat;  
				} 

        location ~ .*.jsp$ {
          root   index.jsp;
          proxy_pass http://tomcat;
        }       
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
                {
                   expires 30d;
                }
        location ~ .*\.(js|css)?$
                {
                    expires 1h;
                }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    } 
    
	server {
        listen       80;
        server_name  trade.mall.woyo.com;
        index  index.html index.htm index.jsp login.vm;
        root /var/www/trade.mall.woyo.com;
				
				location / {  
				  proxy_pass http://tomcat;  
				} 

        location ~ .*.jsp$ {
          root   index.jsp;
          proxy_pass http://tomcat;
        }       
        location ~ .*\.(gif|jpg|jpeg|png|bmp|swf)$
                {
                   expires 30d;
                }
        location ~ .*\.(js|css)?$
                {
                    expires 1h;
                }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }                       
         
}
